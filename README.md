# Домашнее задание к занятию "Репликация и масштабирование. Часть 2" - Морозов Александр

---

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов.


Ответ:
- Активный master-сервер и пассивный репликационный slave-сервер - более надёжная система: если основной сервер упадёт, то на slave находится копия всех данных и её можно будет быстро поднять. При этом важно то, как устроена репликация. Если она синхронная, то транзакцию нужно сохранять одновременно и на master, и на slave, а это может быть медленно. Если репликация асинхронная, то можно потерять часть данных после аварийного переключения;

- Master-сервер и несколько slave-серверов - создание нескольких дополнительных slave‑серверов позволяет снять с основного сервера нагрузку и повысить общую производительность системы, а также можно организовать slave под конкретные ресурсоёмкие задачи и таким образом, например, упростить составление серьёзных аналитических отчётов — используемый для этих целей slave может быть нагружен на 100%, но на работу других пользователей приложения это не повлияет.

*Дайте ответ в свободной форме.*

---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 

**Ответ:**
База данных состоит из трех таблиц:

- Пользователи,
- Книги,
- Магазины.

# Вертикальный шардинг
Каждая таблица находится на отдельном сервере. 

![alt text](https://github.com/Mars12121/hw-12-07/blob/main/img/1.png)

# Горизонтальный шардинг
- Таблица Books разделена на 2 сервера по названию книги от A-N и от O-Z
- Таблица Users разделена по тоже разделена на 2 сервера по принципу аутонтификации и данных users
- Таблица Stores была перенесена полностью в отдельный сервер без изменений 

![alt text](https://github.com/Mars12121/hw-12-07/blob/main/img/2.png)

## Дополнительные задания (со звёздочкой*)
Эти задания дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже шире разобраться в материале.

---

### Задание 3*

Выполните настройку выбранных методов шардинга из задания 2.

*Пришлите конфиг Docker и SQL скрипт с командами для базы данных*.